<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Blackfire Profiler | Magento 2 Developer Documentation</title>
	<meta name="description" content="Magento 2 Developer Documentation.
">

	<link rel="stylesheet" href="/assets/css/app.css" />
	<link rel="stylesheet" href="/assets/css/print.css" media="print"/>

	<link rel="stylesheet" href="/common/css/devdocs.css" />

	<script>
  var baseUrl = "";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c"
  };
</script>



<!-- Google Analytics -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-66243208-1', 'auto');
    ga('send', 'pageview');
</script>

<!-- Hotjar Tracking Code for http://devdocs.magento.com/ -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:806243,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

<!-- heap analytics -->
<script type="text/javascript">
      window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
      heap.load("2619540280");
</script>




	<link rel="canonical" href="/guides/v2.0/cloud/project/project-integrate-blackfire.html">

	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		<nav class="site-nav">

  <div class="menu-btn">
    <a id="menu-btn" class="menu-trigger menu-icon" href="#nav-main" aria-haspopup="true" aria-controls="nav-main"></a>
  </div>

  <div class="nav-container">

    <a class="logo" href="/guides/v2.0/">
      <img src="/assets/i/m-logo.svg" alt=""><img src="/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      
<div class="version-switcher dropdown" data-version="2.0">
	<button id="version-switcher-button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Magento 2.0
	</button>

	<ul class="dropdown-menu dropdown-menu-left" aria-labelledby="version-switcher-button">
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.0/cloud/project/project-integrate-blackfire.html">Magento 2.0</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.1/cloud/project/project-integrate-blackfire.html">Magento 2.1</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.2/cloud/project/project-integrate-blackfire.html">Magento 2.2</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.3/cloud/project/project-integrate-blackfire.html">Magento 2.3 Pre-release</a></li>
	
  </ul>

</div>


      <!-- Main Navigation -->
<ul class="nav-main" role="menubar">

  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Setup</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
          <li><a href="/guides/v2.0/install-gde/bk-install-guide.html">Installation Guide</a></li>
          
          <li><a href="/guides/v2.0/comp-mgr/bk-compman-upgrade-guide.html">Component Manager and System Upgrade Guide</a></li>
          
          <li><a href="/guides/v2.0/config-guide/bk-config-guide.html">Configuration Guide</a></li>
          
          <li><a href="/guides/v2.0/migration/bk-migration-guide.html">Migration Guide</a></li>
          <li><a href="/guides/v2.0/cloud/bk-cloud.html">Magento Commerce (Cloud) Guide</a></li>
          <li><a href="/magento-release-information.html">Release Information</a></li>
      </ul>
    </div>

  </li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Development</span>

    <div class="nav-popup" role="menu" aria-hidden="true">

      <div class="nav-section">
        <div class="nav-section-title">Backend</div>
        <ul>
          <li><a href="/guides/v2.0/architecture/bk-architecture.html">Architecture Guide</a></li>
          <li><a href="/guides/v2.0/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li>
          <li><a href="/guides/v2.0/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices</a></li>
          <li><a href="/guides/v2.0/mrg/intro.html">Module Reference Guide</a></li>
          <li><a href="/guides/v2.0/coding-standards/bk-coding-standards.html">Coding Standards</a></li>
          <li><a href="/guides/v2.0/contributor-guide/contributing.html">Contributor Guide</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Frontend</div>
        <ul>
          <li class=""><a href="/guides/v2.0/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a></li>
          
          <li><a href="/guides/v2.0/ui-components/ui-component.html">UI Components</a></li>
          
          <li><a href="/guides/v2.0/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a></li>
          <li><a href="/guides/v2.0/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li>
          <li><a href="/guides/v2.0/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li>
          <li><a href="https://magento-research.github.io/pwa-devdocs/">PWA Studios</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title"><abbr>API</abbr></div>
        <ul>
          <li><a href="/guides/v2.0/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li>
          <li><a href="/guides/v2.0/rest/bk-rest.html">REST API Reference</a></li>
          <li><a href="/guides/v2.0/soap/bk-soap.html">SOAP API Reference</a></li>
          
          
        </ul>
      </div>
    </div>

  </li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Testing</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
        <li><a href="/guides/v2.0/test/testing.html">Magento Testing Guide</a></li>
        
        <li><a href="/guides/v2.0/mtf/mtf_introduction.html">Functional Testing</a></li>
        <li><a href="/guides/v2.0/test/integration/integration_test_execution.html">Integration Testing</a></li>
        <li><a href="/guides/v2.0/test/js/jasmine.html">JavaScript Unit Testing</a></li>
        <li><a href="/guides/v2.0/test/unit/unit_test_execution.html">PHP Unit Testing</a></li>
        <li><a href="/guides/v2.0/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li>
      </ul>
    </div>

  </li>


  <li class="nav-main-separator"></li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Functional Areas</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
          
        
        <li><a href="/guides/v2.0/howdoi/checkout/checkout_overview.html">Checkout</a></li>
        <li><a href="/guides/v2.0/payments-integrations/bk-payments-integrations.html">Payment Integrations</a></li>
        
      </ul>
    </div>

  </li>


  <li class="nav-main-item"  tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Tutorials</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
        <li><a href="/guides/v2.0/howdoi/bk-how-do-i.html">How To</a></li>
        

        <li><a href="/videos/">Video Tutorials</a></li>
      </ul>
    </div>

  </li>

</ul><!-- /.nav-main -->

    </div>

    <div class="search-btn">
      <a class="search-trigger search-icon" href="#"></a>
    </div>

    <form class="quick-search" action="/guides/v2.0/search.html" method="get" novalidate="novalidate">
      <input type="search" name="q" placeholder="Search" />
      <a href="#" class="quick-search-close">&times;</a>
    </form>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

    

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" data-proofer-ignore class="toc-toggler">Table of Contents</a>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title"></h4>
		<div class="collapsible-navigation">
		    <ul>
		    
		    	

<li class="nav-level1  " id="welcome-to-magento-commerce-(cloud)">
    

    
    <a href="/guides/v2.0/cloud/bk-cloud.html">Welcome to Magento Commerce (Cloud)</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="subscriptions-and-plans">

            

            
            <a href="/guides/v2.0/cloud/basic-information/cloud-plans.html">Subscriptions and plans</a>
            

            
        </li>
        
        
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="architecture">
    

    
    <a href="/guides/v2.0/cloud/architecture/cloud-architecture.html">Architecture</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="starter-architecture">

            

            
            <a href="/guides/v2.0/cloud/basic-information/starter-architecture.html">Starter architecture</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="starter-develop-and-deploy-workflow">

            

            
            <a href="/guides/v2.0/cloud/basic-information/starter-develop-deploy-workflow.html">Starter develop and deploy workflow</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="pro-architecture">

            

            
            <a href="/guides/v2.0/cloud/architecture/pro-architecture.html">Pro architecture</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="pro-develop-and-deploy-workflow">

            

            
            <a href="/guides/v2.0/cloud/architecture/pro-develop-deploy-workflow.html">Pro develop and deploy workflow</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="pro-architecture-(legacy)">

            

            
            <a href="/guides/v2.0/cloud/architecture/pro-architecture-legacy.html">Pro architecture (legacy)</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="add-staging-and-production-to-pro-projects-ui">

            

            
            <a href="/guides/v2.0/cloud/trouble/pro-env-management.html">Add Staging and Production to Pro projects UI</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="technologies-and-requirements">
    

    
    <a href="/guides/v2.0/cloud/requirements/cloud-requirements.html">Technologies and requirements</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="composer">

            

            
            <a href="/guides/v2.0/cloud/reference/cloud-composer.html">Composer</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="magento-cloud-cli">

            

            
            <a href="/guides/v2.0/cloud/reference/cli-ref-topic.html">Magento Cloud CLI</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="git">

            

            
            <a href="/guides/v2.0/cloud/reference/git-integration.html">Git</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="bitbucket-integration">

            

            
            <a href="/guides/v2.0/cloud/project/bitbucket-integration.html">Bitbucket integration</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="github-integration">

            

            
            <a href="/guides/v2.0/cloud/project/project-integrate-github.html">GitHub integration</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="ssh-and-sftp">

            

            
            <a href="/guides/v2.0/cloud/env/environments-ssh.html">SSH and sFTP</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="new-relic-apm">

            

            
            <a href="/guides/v2.0/cloud/project/new-relic.html">New Relic APM</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2 active " id="blackfire.io">

            

            
            <a href="/guides/v2.0/cloud/project/project-integrate-blackfire.html">Blackfire.io</a>
            

            
        </li>
        
        
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="local-environment-setup">
    

    
    <a href="/guides/v2.0/cloud/access-acct/first-time-setup.html">Local environment setup</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="prepare-for-local-environment-setup">

            

            
            <a href="/guides/v2.0/cloud/before/before-workspace.html">Prepare for local environment setup</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="install-magento-prerequisites">

            

            
            <a href="/guides/v2.0/cloud/before/before-workspace-magento-prereqs.html">Install Magento prerequisites</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="enable-ssh-keys">

            

            
            <a href="/guides/v2.0/cloud/before/before-workspace-ssh.html">Enable SSH keys</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="set-up-the-magento-file-system-owner">

            

            
            <a href="/guides/v2.0/cloud/before/before-workspace-file-sys-owner.html">Set up the Magento file system owner</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="clone-and-branch-the-project">

            

            
            <a href="/guides/v2.0/cloud/before/before-setup-env-2_clone.html">Clone and branch the project</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="install-magento">

            

            
            <a href="/guides/v2.0/cloud/before/before-setup-env-install.html">Install Magento</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="first-time-deployment">

            

            
            <a href="/guides/v2.0/cloud/access-acct/first-time-deploy.html">First time deployment</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="optional---install-sample-data">

            

            
            <a href="/guides/v2.0/cloud/howtos/sample-data.html">Optional - Install sample data</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="optional---configure-xdebug">

            

            
            <a href="/guides/v2.0/cloud/howtos/debug.html">Optional - Configure Xdebug</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="import-existing-code-into-a-project">
    

    
    <a href="/guides/v2.0/cloud/access-acct/first-time-setup_import-first-steps.html">Import existing code into a project</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="prepare-your-existing-magento-commerce-system">

            

            
            <a href="/guides/v2.0/cloud/access-acct/first-time-setup_import-prepare.html">Prepare your existing Magento Commerce system</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="import-magento-commerce-into-magento-commerce-(cloud)">

            

            
            <a href="/guides/v2.0/cloud/access-acct/first-time-setup_import-import.html">Import Magento Commerce into Magento Commerce (Cloud)</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="configure-your-store">
    

    
    <a href="/guides/v2.0/cloud/configure/configuration-overview.html">Configure your store</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="best-practices-for-store-configuration">

            

            
            <a href="/guides/v2.0/cloud/configure/configure-best-practices.html">Best practices for store configuration</a>
            

            
        </li>
        
        
        
        
        
        
        
        
        <li class="nav-level2  " id="set-up-cron-jobs">

            

            
            <a href="/guides/v2.0/cloud/configure/setup-cron-jobs.html">Set up cron jobs</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="set-up-multiple-cloud-websites-or-stores">

            

            
            <a href="/guides/v2.0/cloud/project/project-multi-sites.html">Set up multiple Cloud websites or stores</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="install,-manage,-and-upgrade-modules">

            

            
            <a href="/guides/v2.0/cloud/howtos/install-components.html">Install, manage, and upgrade modules</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="install-a-theme">

            

            
            <a href="/guides/v2.0/cloud/howtos/custom-theme.html">Install a theme</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="configure-fastly">
    

    
    <a href="/guides/v2.0/cloud/basic-information/cloud-fastly.html">Configure Fastly</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="set-up-fastly">

            

            
            <a href="/guides/v2.0/cloud/access-acct/fastly.html">Set up Fastly</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-fastly-vcl-snippets">

            

            
            <a href="/guides/v2.0/cloud/configure/cloud-vcl-custom-snippets.html">Custom Fastly VCL snippets</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-whitelist-vcl">

            

            
            <a href="/guides/v2.0/cloud/configure/fastly-vcl-whitelist.html">Custom whitelist VCL</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-blacklist-vcl">

            

            
            <a href="/guides/v2.0/cloud/configure/fastly-vcl-blacklist.html">Custom blacklist VCL</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-extend-admin-timeout-vcl">

            

            
            <a href="/guides/v2.0/cloud/configure/fastly-vcl-extend-timeout.html">Custom extend Admin timeout VCL</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-redirect-to-wordpress-vcl">

            

            
            <a href="/guides/v2.0/cloud/configure/fastly-vcl-wordpress.html">Custom redirect to WordPress VCL</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="custom-block-bad-referer-vcl">

            

            
            <a href="/guides/v2.0/cloud/configure/fastly-vcl-badreferer.html">Custom block bad referer VCL</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="fastly-troubleshooting">

            

            
            <a href="/guides/v2.0/cloud/trouble/trouble_fastly.html">Fastly troubleshooting</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="configure-environments">
    

    
    <a href="/guides/v2.0/cloud/env/environments.html">Configure environments</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="application">

            

            
            <a href="/guides/v2.0/cloud/project/project-conf-files_magento-app.html">Application</a>
            

            
        </li>
        
        
        
        
        
        
        <li class="nav-level2  " id="environment-variables">

            

            
            <a href="/guides/v2.0/cloud/env/variables-intro.html">Environment variables</a>
            

            
            <ul>
                

                
                
                <li class="nav-level3  " id="application-variables">
                    

                    
                    <a  href="/guides/v2.0/cloud/env/environment-vars_magento.html">Application variables</a>
                    

                    
                </li>
                
                

                
                

                
                

                
                

                
                

                
                
            </ul>
            
        </li>
        
        
        
        
        <li class="nav-level2  " id="routes">

            

            
            <a href="/guides/v2.0/cloud/project/project-conf-files_routes.html">Routes</a>
            

            
            <ul>
                

                
                
                <li class="nav-level3  " id="caching">
                    

                    
                    <a  href="/guides/v2.0/cloud/project/project-routes-more-cache.html">Caching</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="redirects">
                    

                    
                    <a  href="/guides/v2.0/cloud/project/project-routes-more-redir.html">Redirects</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="server-side-includes">
                    

                    
                    <a  href="/guides/v2.0/cloud/project/project-routes-more-ssi.html">Server side includes</a>
                    

                    
                </li>
                
                
            </ul>
            
        </li>
        
        
        
        
        <li class="nav-level2  " id="services">

            

            
            <a href="/guides/v2.0/cloud/project/project-conf-files_services.html">Services</a>
            

            
            <ul>
                

                
                
                <li class="nav-level3  " id="set-up-mysql-service">
                    

                    
                    <a  href="/guides/v2.0/cloud/project/project-conf-files_services-mysql.html">Set up MySQL service</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="set-up-redis-service">
                    

                    
                    <a  href="/guides/v2.0/cloud/project/project-conf-files_services-redis.html">Set up Redis service</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="set-up-solr-service">
                    

                    
                    <a  href="/guides/v2.0/cloud/project/project-conf-files_services-solr.html">Set up Solr service</a>
                    

                    
                </li>
                
                

                
                

                
                
                <li class="nav-level3  " id="set-up-rabbitmq-service">
                    

                    
                    <a  href="/guides/v2.0/cloud/project/project-conf-files_services-rabbit.html">Set up RabbitMQ service</a>
                    

                    
                </li>
                
                
            </ul>
            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

		    
		    	

<li class="nav-level1  " id="manage-your-project">
    

    
    <a href="/guides/v2.0/cloud/project/projects.html">Manage your project</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="configure-your-project">

            

            
            <a href="/guides/v2.0/cloud/project/project-webint-basic.html">Configure your project</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="project-structure">

            

            
            <a href="/guides/v2.0/cloud/project/project-start.html">Project structure</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="create-and-manage-users">

            

            
            <a href="/guides/v2.0/cloud/project/user-admin.html">Create and manage users</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="manage-branches-with-the-interface">

            

            
            <a href="/guides/v2.0/cloud/project/project-webint-branch.html">Manage branches with the Interface</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="manage-branches-with-the-cli">

            

            
            <a href="/guides/v2.0/cloud/env/environments-start.html">Manage branches with the CLI</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="snapshots-and-backup-management">

            

            
            <a href="/guides/v2.0/cloud/project/project-webint-snap.html">Snapshots and backup management</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="deploy-your-store">
    

    
    <a href="/guides/v2.0/cloud/live/stage-prod-live.html">Deploy your store</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="deployment-process">

            

            
            <a href="/guides/v2.0/cloud/reference/discover-deploy.html">Deployment process</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="continuous-deployment">

            

            
            <a href="/guides/v2.0/cloud/deploy/continuous-deployment.html">Continuous deployment</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="protective-block">

            

            
            <a href="/guides/v2.0/cloud/live/live-prot.html">Protective block</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="build-and-deploy-on-local">

            

            
            <a href="/guides/v2.0/cloud/live/live-sanity-check.html">Build and deploy on local</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="prepare-to-deploy-to-staging-and-production">

            

            
            <a href="/guides/v2.0/cloud/live/stage-prod-migrate-prereq.html">Prepare to deploy to Staging and Production</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="deploy-code-and-migrate-static-files-and-data">

            

            
            <a href="/guides/v2.0/cloud/live/stage-prod-migrate.html">Deploy code and migrate static files and data</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="test-deployment">

            

            
            <a href="/guides/v2.0/cloud/live/stage-prod-test.html">Test deployment</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="go-live-and-launch">
    

    
    <a href="/guides/v2.0/cloud/live/live.html">Go live and launch</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="go-live-checklist">

            

            
            <a href="/guides/v2.0/cloud/live/go-live-checklist.html">Go live checklist</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="launch-steps">

            

            
            <a href="/guides/v2.0/cloud/live/launch-steps.html">Launch steps</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="troubleshooting">
    

    
    <a href="/guides/v2.0/cloud/trouble/trouble.html">Troubleshooting</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="troubleshoot-deployment">

            

            
            <a href="/guides/v2.0/cloud/access-acct/trouble.html">Troubleshoot deployment</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="view-logs-for-troubleshooting">

            

            
            <a href="/guides/v2.0/cloud/trouble/environments-logs.html">View logs for troubleshooting</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="incorrect-credentials">

            

            
            <a href="/guides/v2.0/cloud/trouble/trouble_ce-creds.html">Incorrect credentials</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="resolve-issues-with-a-new-project">

            

            
            <a href="/guides/v2.0/cloud/trouble/trouble_proj-startover.html">Resolve issues with a new project</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="component-deployment-failure">

            

            
            <a href="/guides/v2.0/cloud/trouble/trouble_comp-deploy-fail.html">Component deployment failure</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="redis-troubleshooting">

            

            
            <a href="/guides/v2.0/cloud/trouble/redis-troubleshooting.html">Redis troubleshooting</a>
            

            
        </li>
        
        
        
        
        
        
        <li class="nav-level2  " id="resolve-issues-with-encryption-key">

            

            
            <a href="/guides/v2.0/cloud/trouble/trouble-crypt-key-variable.html">Resolve issues with encryption key</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="resolve-issues-with-html-minification">

            

            
            <a href="/guides/v2.0/cloud/trouble/trouble-error-html-minification.html">Resolve issues with HTML minification</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="resolve-issues-with-google-analytics-during-deployment">

            

            
            <a href="/guides/v2.0/cloud/trouble/trouble-google-analytics-deploy.html">Resolve issues with Google Analytics during deployment</a>
            

            
        </li>
        
        
        
        
        
        
        <li class="nav-level2  " id="site-availability">

            

            
            <a href="/guides/v2.0/cloud/trouble/site-availability.html">Site availability</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="add-site-map-and-search-engine-robots">

            

            
            <a href="/guides/v2.0/cloud/trouble/robots-sitemap.html">Add site map and search engine robots</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="theme-troubleshooting">

            

            
            <a href="/guides/v2.0/cloud/trouble/theme-troubleshooting.html">Theme troubleshooting</a>
            

            
        </li>
        
        
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="upgrades-and-patches">
    

    
    <a href="/guides/v2.0/cloud/project/project-upgrade-parent.html">Upgrades and Patches</a>
    

    
    <ul>
        
        
        
        
        
        <li class="nav-level2  " id="patch-magento-commerce-(cloud)">

            

            
            <a href="/guides/v2.0/cloud/project/project-patch.html">Patch Magento Commerce (Cloud)</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="upgrade-magento-commerce-(cloud)">

            

            
            <a href="/guides/v2.0/cloud/project/project-upgrade.html">Upgrade Magento Commerce (Cloud)</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="upgrade-from-2.0.4-(cloud)">

            

            
            <a href="/guides/v2.0/cloud/upgrade/upgrade-from-2-0-4.html">Upgrade from 2.0.4 (Cloud)</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    </ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">
	

  <nav class="breadcrumbs">

    <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      <li class="breadcrumb-item"><a class="breadcrumb-item" href="/guides/v2.0/"><span>Home</span></a></li>

    <!-- Iteration breadcrumb item -->
    
    

    

      <!-- Skip if root -->
      

      <!-- Get breadcrumb title -->
      

      <!-- SEO data -->
      

      <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">

        
          <a property="item" typeof="WebPage" href="/guides/v2.0/cloud/bk-cloud.html">
            <span property="name">Welcome to Magento Commerce (Cloud)</span>
          </a>
        

        <meta property="position" content="1" />
      </li>

    

      <!-- Skip if root -->
      

      <!-- Get breadcrumb title -->
      

      <!-- SEO data -->
      

      <li class="breadcrumb-item active" property="itemListElement" typeof="ListItem">

        

          

          <span property="name">Blackfire Profiler</span>

        

        <meta property="position" content="2" />
      </li>

    

    </ol>

  </nav>



	

	

	<h1 class="page-heading">Blackfire Profiler</h1>

  


</section>

			<p><a href="https://blackfire.io/profiler" target="_blank">Blackfire Profiler</a> helps you locate and investigate performance issues in your environment at the code-level. it creates a performance profile by tracking every PHP call and method and SQL queries performed by your code. Blackfire digs deeper providing granular performance analytics. You can activate and use Blackfire Profiler in all of your environments, especially helpful in Staging and Production.</p>

<p>This information helps you get Blackfire installed on your local, integrated into Integration, and running your first profile.</p>

<p>For full details on integrations, also review <a href="https://support.blackfire.io/blackfire-on-magento-cloud" target="_blank">Blackfire’s complete Magento Commerce (Cloud)</a> guide. They also include a number of <a href="#resources">incredible resources</a> to get you started.</p>

<p>Blackfire includes the following <a href="https://blackfire.io/docs/reference-guide/environments" target="_blank">environments</a> through their site:</p>

<ul>
  <li><code class="highlighter-rouge">Magento Cloud (&lt;your instance reference&gt;)</code> - Integration and Development</li>
  <li><code class="highlighter-rouge">Magento Cloud (&lt;your instance reference&gt;)</code> - Staging</li>
  <li><code class="highlighter-rouge">Magento Cloud (&lt;your instance reference&gt;)</code> - Production</li>
</ul>

<div class="bs-callout bs-callout-info" id="info">
  <p>For Pro plans, you need to enter a Support ticket with your Blackfire credentials to get Staging and Production configured with Blackfire. We’ll help you get Blackfire configured in those environments.</p>
</div>

<h2 id="cloud-int-black">Get your Blackfire credentials</h2>
<p>The Project Owner is the account owner. This account’s e-mail address is used as part of the credentials for access to Blackfire for your project. Only the Project Owner credentials can be used to integrate Blackfire with Magento Commerce (Cloud) and to log into the Blackfire site. An invitiation email is sent to the Project Owner’s e-mail address to complete activation.</p>

<p>For information on setting up the account on Blackfire, see <a href="https://support.blackfire.io/blackfire-on-magento-cloud/getting-started/step-1-accessing-your-blackfire-account-as-a-magento-cloud-user" target="_blank">Accessing your Blackfire account as a Magento Cloud user</a>. You can also access your Blackfire license key through <a href="/guides/v2.0/cloud/project/projects.html#integrations">project details</a>.</p>

<h2 id="collaborators">Add collaborator accounts</h2>
<p>After you have accessed your Blackfire account, you can <a href="http://support.blackfire.io/blackfire-on-magento-cloud/getting-started/step-2-adding-collaborators-to-the-blackfire-environments" target="_blank">add additional collaborator accounts</a>.</p>

<p>We recommend adding at least one account through Blackfire to manage all access, integrations, and usage of the tool. We also recommend promoting one of the added members to Admin, to manage all Blackfire access and integrations.</p>

<ol>
  <li>Using the Project Owner Blackfire credentials, log in to <a href="https://blackfire.io/login" target="_blank">Blackfire</a>.</li>
  <li>Select an environment.</li>
  <li>Select the Settings tab.</li>
  <li>Enter an e-mail address and click Add Member.</li>
  <li>
    <p>For one account, click the menu by Revoke and select <strong>Promote as an admin</strong>.</p>

    <p><img src="/common/images/cloud_blackfire-member.png" alt="Promote an admin" /></p>
  </li>
</ol>

<h2 id="cloud-int-black-en">Enable Blackfire on your local</h2>
<p>You need to install and configure Blackfire on your local workspace with your working Magento Commerce (Cloud) installation. You don’t need to run these installations directly on the hosted environments, only on your local.</p>

<p>We recommend using their installation guide to walk you through the process:</p>

<ol>
  <li>Log in to <a href="https://blackfire.io/login" target="_blank">Blackfire</a>.</li>
  <li>Select the Integration environment in the <strong>Current Environment</strong> list.</li>
  <li>Select the Settings tab.</li>
  <li>Scroll to the bottom and locate the Server ID and Server Token for the environment. You will need these values for the instructions.</li>
  <li>Open <a href="https://blackfire.io/docs/up-and-running/installation" target="_blank">this guide</a>, select the Operating System, and follow the instructions.</li>
</ol>

<h2 id="dev">Integrate Blackfire in Integration</h2>
<p>We recommend enabling Blackfire in all of your environments including Integration. To integrate, you begin in the Blackfire site. For full details, see <a href="https://support.blackfire.io/blackfire-on-magento-cloud/getting-started/step-3-configure-the-server-credentials-the-integration-with-magento-cloud" target="_blank">their guide.</a>. You can integrate with Pro’s Integration environment and Starter’s development branches.</p>

<div class="bs-callout bs-callout-info" id="info">
  <p>For Starter plans, pushing your code and <code class="highlighter-rouge">.magento.app.yaml</code> file to Staging and Master branches updates those environments directly. You can directly add Blackfire to those environments the way you do with development.</p>
</div>

<p>These instructions assume you have fully set up your <a href="/guides/v2.0/cloud/before/before-workspace.html">local workspace</a>.</p>

<ol>
  <li>Log in to <a href="https://blackfire.io/login" target="_blank">Blackfire</a>.</li>
  <li>Select the Integration and Development environment in the <strong>Current Environment</strong> list.</li>
  <li>
    <p>Select the Builds tab. In the Builds side panel, click the info icon next to Magento Cloud. This opens a list of commands you will need to execute in order to enable the Blackfire integration.</p>

    <p><img src="/common/images/cloud_blackfire-builds.png" alt="Click info icon" /></p>

    <p>A page like the following opens with additional steps to complete the integration. The marked out content is your Project ID.</p>

    <p><img src="/common/images/cloud_blackfire-integration.png" alt="Blackfire Magento Cloud integragtion" /></p>
  </li>
</ol>

<p>The following sections include instructions for completing this list of integration tasks. You can keep this page open to follow and copy information direcrtly.</p>

<ul>
  <li><a href="#magentoappyaml">Add Blackfire to .magento.app.yaml</a></li>
  <li><a href="#variables">Add project variables</a></li>
  <li><a href="#integration">Add Blackfire integration to the project</a></li>
  <li><a href="#route">Add a default route</a></li>
  <li><a href="#save">Save changes in Blackfire</a></li>
</ul>

<h3 id="magentoappyaml">Add Blackfire to .magento.app.yaml</h3>
<p>By default, the Blackfire module is included in the <code class="highlighter-rouge">.magento.app.yaml</code> file as part of your Git branch.</p>

<p>The following instructions provide additional instructions if the module is not added to <code class="highlighter-rouge">.magento.app.yaml</code>. To enable and integrate Blackfire into your code, you will modify the <code class="highlighter-rouge">.magento.app.yaml</code> file, push the file into your remote Git branch, merge, and deploy across all environments.</p>

<ul>
  <li>For Starter, merging your Git branch across all environments adds the module.</li>
  <li>For Pro, you need to enter a Support ticket to have <code class="highlighter-rouge">.magento.app.yaml</code> updated to Staging and Production.</li>
</ul>

<p>We recommend working in a branch and creating a snapshot prior to installing. If you have a branch already created, you can skip down to the steps for modifying the <code class="highlighter-rouge">.magento.app.yaml</code> file. If you need instructions creating a branch, complete the following:</p>

<ol>
  <li>
    <p>Log in to your Magento Commerce (Cloud) project.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>magento-cloud login
</code></pre></div>    </div>
  </li>
  <li>
    <p>List projects:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>magento-cloud project:list
</code></pre></div>    </div>
  </li>
  <li>
    <p>List environments in the project:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>magento-cloud environment:list <span class="nt">-p</span> &lt;project ID&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>See what branch you’re currently on, if any.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch
</code></pre></div>    </div>
  </li>
  <li>
    <p>If necessary, check out an existing branch:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>magento-cloud environment:checkout &lt;environment ID&gt;
</code></pre></div>    </div>

    <p>You can also create a new branch using the <code class="highlighter-rouge">magento-cloud environment:branch</code> command.</p>
  </li>
  <li>
    <p>Back up the environment using a snapshot:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>magento-cloud snapshot:create <span class="nt">-e</span> &lt;environment ID&gt;
</code></pre></div>    </div>
  </li>
</ol>

<p>Next, modify the <code class="highlighter-rouge">.magento.app.yaml</code> file:</p>

<ol>
  <li>Use a text editor to locate and edit <code class="highlighter-rouge">&lt;project root dir&gt;/.magento.app.yaml</code> in your branch.</li>
  <li>
    <p>Enter <code class="highlighter-rouge">- name: blackfire</code> in the <code class="highlighter-rouge">extensions</code> block under <code class="highlighter-rouge">runtime</code>.</p>

    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">runtime</span><span class="pi">:</span>
    <span class="na">extensions</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">mcrypt</span>
    <span class="pi">-</span> <span class="s">redis</span>
    <span class="pi">-</span> <span class="s">xsl</span>
    <span class="pi">-</span> <span class="s">json</span>
    <span class="pi">-</span> <span class="s">blackfire</span>
</code></pre></div>    </div>
  </li>
  <li>Save your changes to <code class="highlighter-rouge">.magento.app.yaml</code> and exit the text editor.</li>
  <li>
    <p>Add, commit, and push your changes to the environment:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add <span class="nt">-A</span>
git commit <span class="nt">-m</span> <span class="s2">"&lt;message&gt;"</span>
git push origin
</code></pre></div>    </div>

    <p>If errors display during deployment, open <code class="highlighter-rouge">.magento.app.yaml</code> and check the syntax. Check indentation and spelling and try again.</p>
  </li>
</ol>

<h3 id="variables">Add project variables</h3>
<p>Add project variables for Blackfire for the server ID and token. You can add these using the Magento Cloud CLI or the Project Web Interface. The following instructions walk through adding them using CLI commands.</p>

<ol>
  <li>
    <p>Log in to your Magento Commerce (Cloud) project.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>magento-cloud login
</code></pre></div>    </div>
  </li>
  <li>Copy the commands from step 3 on the Blackfire Magento Cloud integration page.</li>
  <li>
    <p>Paste and enter the commands in the Magento Cloud CLI. Since you are already in your project, remove the <code class="highlighter-rouge">--project='&lt;Project ID&gt;'</code> content from the command. The commands include the Project ID and Blackfire server ID and token. The commands may look like the following:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>magento-cloud project:variable:set env:BLACKFIRE_SERVER_ID &lt;Blackfire Server ID&gt;
magento-cloud project:variable:set env:BLACKFIRE_SERVER_TOKEN &lt;Blackfire Server Token&gt;
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="integration">Add Blackfire integration to the project</h3>
<p>Using the Magento Cloud CLI, you will enter an integration command to connect Blackfire with the project. This command requires using an account with super user access. Make sure your Cloud Project account has the <a href="/guides/v2.0/cloud/project/user-admin.html#cloud-user-webinterface">super user option</a> in the Project through the Project Web Interface.</p>

<ol>
  <li>
    <p>Log in to your Magento Commerce (Cloud) project.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>magento-cloud login
</code></pre></div>    </div>
  </li>
  <li>
    <p>Copy and enter the integration commands from the Blackfire Magento Cloud integration page.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> magento-cloud integration:add <span class="se">\</span>
 <span class="nt">--project</span><span class="o">=</span><span class="s1">'&lt;Project ID&gt;'</span> <span class="se">\</span>
 <span class="nt">--type</span><span class="o">=</span>webhook <span class="se">\</span>
 <span class="nt">--url</span><span class="o">=</span><span class="s1">'&lt;Blackfire provided URL&gt;'</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>A series of requests display for the command. To accept default values, hit enter for the questions. If you receive a permission error, make sure you have super user access for the Magento Commerce (Cloud) project. Either request your permission be upgraded or have someone else who is an admin run this command.</p>
  </li>
</ol>

<h3 id="route">Add a default route</h3>
<p>If you do not have a default route specified in <code class="highlighter-rouge">routes.yaml</code>, or want to define which route to use instead of the default route, you will add it to Blackfire and <code class="highlighter-rouge">routes.yaml</code>.</p>

<p>Add route information on the Blackfire Magento Cloud integration page:</p>

<ol>
  <li>Locate step 5 and enter the default route. It should look like <code class="highlighter-rouge">https://example.com/</code> or <code class="highlighter-rouge">http://*.{default}/</code>. If you leave this field blank, we will try the following keys in this order: <code class="highlighter-rouge">https://{default}/</code>, <code class="highlighter-rouge">https://www.{default}/</code>, <code class="highlighter-rouge">http://{default}/</code>, <code class="highlighter-rouge">http://www.{default}/</code>.</li>
  <li>If you use a wildcard <code class="highlighter-rouge">*</code> in step 5 for the default rote, you need to enter a resolved value for the <code class="highlighter-rouge">*</code> value in step 6. Otherwise, leave step 6 empty. For example, if you specified the route key <code class="highlighter-rouge">https://*.{default}</code> in step 5, you would need you to specify a route placeholder in step 6.</li>
</ol>

<p>If adding a route to Blackfire, make sure to add the default route to <code class="highlighter-rouge">routes.yaml</code>:</p>

<ol>
  <li>
    <p>Log in to your Magento Commerce (Cloud) project.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>magento-cloud login
</code></pre></div>    </div>
  </li>
  <li>
    <p>List projects:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>magento-cloud project:list
</code></pre></div>    </div>
  </li>
  <li>
    <p>List environments in the project:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>magento-cloud environment:list <span class="nt">-p</span> &lt;project ID&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>See what branch you’re currently in, if any.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch
</code></pre></div>    </div>
  </li>
  <li>
    <p>If necessary, check out an existing branch:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>magento-cloud environment:checkout &lt;environment ID&gt;
</code></pre></div>    </div>

    <p>You can also create a new branch using the <code class="highlighter-rouge">magento-cloud environment:branch</code> command.</p>
  </li>
  <li>
    <p>Back up the environment using a snapshot:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>magento-cloud snapshot:create <span class="nt">-e</span> &lt;environment ID&gt;
</code></pre></div>    </div>
  </li>
  <li>Use a text editor to locate and edit <code class="highlighter-rouge">&lt;project root dir&gt;/magento/routes.yaml</code> in your branch.</li>
  <li>
    <p>Add the route the file. For details, see <a href="/guides/v2.0/cloud/project/project-conf-files_routes.html"><code class="highlighter-rouge">routes.yaml</code></a>. Here’s an example:</p>

    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"</span><span class="s">http://{default}/"</span><span class="pi">:</span>
<span class="na">type</span><span class="pi">:</span> <span class="s">upstream</span>
<span class="na">upstream</span><span class="pi">:</span> <span class="s2">"</span><span class="s">blackfire:php"</span>
</code></pre></div>    </div>
  </li>
  <li>Save your changes to <code class="highlighter-rouge">routes.yaml</code> and exit the text editor. It should look like <code class="highlighter-rouge">https://example.com/</code> or <code class="highlighter-rouge">http://*.{default}/</code>.
If you leave this field blank, we will try the following keys in this order: <code class="highlighter-rouge">https://{default}/</code>, <code class="highlighter-rouge">https://www.{default}/</code>, <code class="highlighter-rouge">http://{default}/</code>, <code class="highlighter-rouge">http://www.{default}/</code>.</li>
  <li>
    <p>Add, commit, and push your changes to the environment:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add <span class="nt">-A</span>
git commit <span class="nt">-m</span> <span class="s2">"&lt;message&gt;"</span>
git push origin
</code></pre></div>    </div>

    <p>If errors display during deployment, open <code class="highlighter-rouge">routes.yaml</code> and check the syntax. Check indentation and spelling and try again.</p>
  </li>
</ol>

<h3 id="save">Save changes in Blackfire</h3>
<p>With all integrations entered on the Blackfire Magento Cloud integration page, click Save. All integration settings save to your Blackfire account with saved integrations and conncetions with changes entered to your Magento Commerce (Cloud) project. Continue to the next section to begin profiling your store to verify the integration.</p>

<h2 id="profile">Profile your store</h2>
<p>To verify Blackfire works, you have a couple options: a browser extension or using the CLI. For extensive CLI profiling options and better understanding the profiles, see <a href="#resources">Blackfire’s resources</a>.</p>

<div class="bs-callout bs-callout-info">
  <p>You can only use the CLI in your local development environment.</p>
</div>

<p>To profile using the browser:</p>

<ol>
  <li>Install the Blackfire browser extension in <a href="https://blackfire.io/docs/integrations/chrome#installing-the-companion" target="_blank">Chrome</a> or <a href="https://blackfire.io/docs/integrations/firefox#installing-the-companion" target="_blank">Firefox</a>. A new Blackfire icon displays in your browser next to the address location. If you don’t see it, you may need to display the bar.</li>
  <li>Visit the store or site URL for your specific environment. For example, access the URL for your Integration environment. If you need this URL, you can find it through the Project Web Site. Select the environment branch and copy the link from the Access section.</li>
  <li>
    <p>Click the Blackfire icon to profile. For Compare with, select No Reference.</p>

    <p><img src="/common/images/cloud_blackfire.png" alt="Start profiling" /></p>
  </li>
  <li>Click <strong>Profile</strong> to start.</li>
</ol>

<p>To profile using the CLI:</p>

<ol>
  <li>Open a terminal.</li>
  <li><a href="/guides/v2.0/cloud/before/before-setup-env-2_clone.html#branch">Checkout a branch</a> in your local environment.</li>
  <li>
    <p>Run the profiler:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>php <span class="nt">--ri</span> blackfire
</code></pre></div>    </div>

    <p>A sample result follows:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>blackfire

Blackfire <span class="o">=&gt;</span> enabled
Blackfire <span class="o">=&gt;</span> 1.10.3
Timing measurement <span class="o">=&gt;</span> cgt
Num of CPU <span class="o">=&gt;</span> 8
Profiling heap memory <span class="o">=&gt;</span> 0 Kb
Main instance trigger mode <span class="o">=&gt;</span> HTTP header triggered
Main instance <span class="o">=&gt;</span> enabled

Main instance info
Output stream <span class="o">=&gt;</span> file
Signature validated <span class="o">=&gt;</span> no
EnvId validated <span class="o">=&gt;</span> no
Fully decoded <span class="o">=&gt;</span> no

Directive <span class="o">=&gt;</span> Local Value <span class="o">=&gt;</span> Master Value
blackfire.agent_socket <span class="o">=&gt;</span> tcp://blackfire.platform.sh:8307 <span class="o">=&gt;</span> tcp://blackfire.platform.sh:8307
blackfire.agent_timeout <span class="o">=&gt;</span> 10 <span class="o">=&gt;</span> 10
blackfire.env_id <span class="o">=&gt;</span> no value <span class="o">=&gt;</span> no value
blackfire.env_token <span class="o">=&gt;</span> no value <span class="o">=&gt;</span> no value
blackfire.log_level <span class="o">=&gt;</span> 1 <span class="o">=&gt;</span> 1
blackfire.log_file <span class="o">=&gt;</span> no value <span class="o">=&gt;</span> no value
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="resources">Blackfire resources</h2>
<p>Blackfire provides great information to better profile and investigate the results on their documentation site. Check out some resources:</p>

<ul>
  <li><a href="https://blackfire.io/docs/cookbooks/profiling-http" target="_blank">Profiling HTTP requests</a></li>
  <li><a href="https://blackfire.io/docs/cookbooks/profiling-cli" target="_blank">Profiling CLI commands</a></li>
  <li><a href="https://blackfire.io/docs/cookbooks/tests" target="_blank">Writing Tests</a></li>
  <li><a href="https://blackfire.io/docs/cookbooks/scenarios" target="_blank">Writing scenarios</a></li>
  <li><a href="https://blackfire.io/docs/reference-guide/index" target="_blank">Reference Guide</a> to really understand what you profile</li>
</ul>

			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

    
  
    
    <div class="github-link">
      <a class="improve-page" href="https://github.com/magento/devdocs/blob/develop/guides/v2.0/cloud/project/project-integrate-blackfire.md" target="_blank">
        Edit this page on GitHub
      </a>
    </div>
    
  
    
    <div class="new-issue">
      <a href="https://github.com/magento/devdocs/issues/new?title=Feedback on page: /guides/v2.0/cloud/project/project-integrate-blackfire.html" target="_blank">Give us feedback</a>
    </div>
    
  
  </div>

	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      <ul class="nav footer-links">
  <li><a href="/guides/v2.0/contributor-guide/contributing_docs.html">Become a Contributor</a>
  <li><a href="https://magento.github.io/glossary/index.html?audience=developer">Glossary</a></li>
  <li><a href="http://magento.com/legal/terms/privacy/">Privacy Policy</a></li>
  <li><a href="http://magento.com/legal/terms/">Terms of Service</a></li>
  <li><a href="http://magento.com/legal/licensing/">License/Trademark FAQ</a></li>
  <li><a href="/guides/v2.0/release-notes/bk-release-notes.html">Release Notes</a></li>
  <li><a href="/magento-third-party.html">Third-Party Licenses</a></li>
</ul>

    </div>

		<div class="copyright-date">&copy; 2018 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/assets/js/app.min.js"></script>


<script src="/common/js/devdocs.min.js"></script>



<script type="text/javascript">
    (function() {
        var didInit = false;
        function initMunchkin() {
            if(didInit === false) {
                didInit = true;
                Munchkin.init('585-GGD-959', {cookieAnon: false});
            }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                initMunchkin();
            }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>




</body>
</html>
